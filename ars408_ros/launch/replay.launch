<launch>
    <arg name="plot" default="true"/>
    <arg name="calib" default="true"/>

    <param name="use_sim_time" type="bool" value="True"/>

    <!-- Serialize can data -->
    <node pkg="ars408_ros" type="cantopic2data" name="cantopic2data" output="screen"/>
    <node pkg="ars408_ros" type="visualRadar" name="visualRadar" output="screen"/>

    <!-- Cameras -->
    <node pkg="ars408_ros" type="dualFusion.py" name="dualFusion" output="screen"/>
    <node pkg="ars408_ros" type="image_raw.py" name="image_raw" output="screen" if="$(eval calib == true)"/>
    <node pkg="rostopic"   type="rostopic" name="cameraYaml" output="screen" args="pub /camera_info sensor_msgs/CameraInfo -f $(find ars408_ros)/config/camera_Info.yaml" if="$(eval calib == true)"/>
    <node pkg="image_proc" type="image_proc" name="image_proc" output="screen" if="$(eval calib == true)"/>

    <!-- Plot -->
    <node pkg="ars408_ros" type="plotDist.py" name="plotDist" output="screen" if="$(eval plot == true)"/>
    <node pkg="ars408_ros" type="plotRadar.py" name="plotRadar" output="screen" if="$(eval plot == true)"/>

    <!-- Yolo -->
    <!-- <node pkg="ars408_ros" type="yolo_origin.py" name="yolo_origin" output="screen" if="$(eval plot == true)"/> -->
    <node pkg="ars408_ros" type="yolo.py" name="yolo" output="screen" if="$(eval plot == true)"/>

    <!-- Lidar -->
    <node pkg="tf" type="static_transform_publisher" name="linkVelodyne_broadcaster" args="-2 0 1.8 0 0 0 1 my_frame velodyne 500" />
    <!-- <node pkg="ars408_ros" type="plotLidar.py" name="plotLidar" output="screen" if="$(eval plot == true)"/> -->

    <!-- Show on rviz -->
    <node pkg="rviz" type="rviz" name="rv" required="true" args="-d $(find ars408_ros)/rviz/replay.rviz"/>

</launch>
